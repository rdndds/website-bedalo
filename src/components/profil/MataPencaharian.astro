---
import { getEntry } from 'astro:content';
import SectionTitle from '../common/SectionTitle.astro';

const data = await getEntry('profil', 'mata-pencaharian');
const mataPencaharian = data?.data?.mataPencaharian || [];
---

<div class="mb-12">
  <SectionTitle title="Mata Pencaharian" />
  <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
    {
      mataPencaharian.map((item, index) => (
        <div
          class:list={[
            item.color,
            'rounded-2xl p-5 md:p-6 hover:shadow-lg hover:-translate-y-1 transition-all cursor-default',
          ]}
          data-aos={index % 2 === 0 ? 'fade-right' : 'fade-left'}
          data-aos-delay={Math.min(index * 100, 200)}
        >
          <div class="text-4xl mb-3">{item.icon}</div>
          <h3 class="text-lg font-bold text-gray-900 mb-1">{item.title}</h3>
          <p class="text-sm text-gray-600">{item.desc}</p>
        </div>
      ))
    }
  </div>
</div>
