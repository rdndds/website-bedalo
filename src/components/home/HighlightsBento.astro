---
import { getEntry } from 'astro:content';

const data = await getEntry('siteContent', 'highlights');
const highlights = data?.data?.highlights || [];

const bentoStyles = [
  {
    grid: 'md:col-span-2 md:row-span-2',
    gradient: 'from-blue-600 to-cyan-500',
    size: 'large',
  },
  {
    grid: 'md:col-span-1 md:row-span-2',
    gradient: 'from-emerald-600 to-teal-500',
    size: 'tall',
  },
  {
    grid: 'md:col-span-1 md:row-span-1',
    gradient: 'from-orange-500 to-amber-500',
    size: 'small',
  },
  {
    grid: 'md:col-span-1 md:row-span-1',
    gradient: 'from-purple-600 to-pink-500',
    size: 'small',
  },
];
---

<section class="py-16 lg:py-24 bg-white">
  <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12" data-aos="fade-up">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
        Kenapa Harus ke <span class="gradient-text">Bedalo</span>?
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Temukan keindahan alam, kearifan lokal, dan pengalaman otentik pedesaan
        pesisir Gunungkidul.
      </p>
    </div>

    <div
      class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 auto-rows-[200px] md:auto-rows-[180px]"
    >
      {
        highlights.map((item, index) => {
          const style = bentoStyles[index] || bentoStyles[3];
          return (
            <a
              href={item.href}
              class={`bento-card relative overflow-hidden rounded-3xl p-6 md:p-8 bg-gradient-to-br ${style.gradient} text-white group ${style.grid}`}
              data-aos="zoom-in"
              data-aos-delay={index * 100}
            >
              <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors" />

              <div class="absolute -right-8 -bottom-8 opacity-20 group-hover:opacity-30 transition-opacity">
                <span
                  class={`${style.size === 'large' ? 'text-[180px]' : style.size === 'tall' ? 'text-[120px]' : 'text-[80px]'}`}
                >
                  {item.icon}
                </span>
              </div>

              <div class="relative z-10 h-full flex flex-col justify-between">
                <div>
                  <span
                    class={`${style.size === 'large' ? 'text-5xl md:text-6xl' : 'text-4xl'} block mb-4`}
                  >
                    {item.icon}
                  </span>
                  <h3
                    class={`${style.size === 'large' ? 'text-2xl md:text-3xl' : 'text-xl'} font-bold mb-2`}
                  >
                    {item.title}
                  </h3>
                  <p
                    class={`text-white/80 ${style.size === 'large' ? 'text-base md:text-lg' : 'text-sm'} ${style.size === 'small' ? 'line-clamp-2' : ''}`}
                  >
                    {item.description}
                  </p>
                </div>

                <div class="mt-4 inline-flex items-center gap-2 text-white/90 font-medium group-hover:gap-3 transition-all">
                  <span class="text-sm">Selengkapnya</span>
                  <svg
                    class="w-4 h-4 group-hover:translate-x-1 transition-transform"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 8l4 4m0 0l-4 4m4-4H3"
                    />
                  </svg>
                </div>
              </div>

              <div class="absolute inset-0 opacity-30 mix-blend-overlay">
                <div
                  class="absolute inset-0"
                  style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22/%3E%3C/svg%3E');"
                />
              </div>
            </a>
          );
        })
      }
    </div>
  </div>
</section>

<style>
  .bento-card {
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }

  .bento-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.25);
  }
</style>
