---
import BaseLayout from '../layouts/BaseLayout.astro';
import AgendaRutin from '../components/agenda/AgendaRutin.astro';
import BeritaTerbaru from '../components/agenda/BeritaTerbaru.astro';
import { getEntry } from 'astro:content';

const agendaEntry = await getEntry('siteContent', 'pages/agenda');

if (!agendaEntry?.data?.agendaPage) {
  throw new Error('Missing siteContent entry: pages/agenda');
}

const agendaPage = agendaEntry.data.agendaPage;
---

<BaseLayout metaId="agenda">
  <section class="py-12 lg:py-16">
    <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12" data-aos="fade-up">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4">
          <span class="gradient-text">{agendaPage.hero.titleHighlight}</span>{' '}
          {agendaPage.hero.titleSuffix}
        </h1>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          {agendaPage.hero.description}
        </p>
      </div>

      <AgendaRutin {...agendaPage.agendaRutin} />
      <BeritaTerbaru {...agendaPage.beritaTerbaru} />
    </div>
  </section>
</BaseLayout>
